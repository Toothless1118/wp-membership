opjq(document).ready(function(a){var b=!1;a(".op-popup-button").each(function(){var e,f,g,h,i,j,k,l=a(this),m=l.parent(),n=l.next(),o=m.data("width")||"0",p=m.data("open-effect")||"fade",q=(m.data("open-method")||"zoomIn",m.data("open-speed")||400),r=m.data("close-effect")||"fade",s=m.data("close-speed")||400,t=m.data("border-color")||"#ffffff",u=m.data("border-size"),v=m.data("padding-top"),w=m.data("padding-bottom"),x=m.data("padding-left"),y=m.data("padding-right"),z=m.data("popup-id"),A=m.data("exit-intent"),B=m.data("trigger-time"),C=m.data("trigger-dontshow"),D=m.data("dont-show-on-tablet"),E=m.data("dont-show-on-mobile"),F=10,G=0,H=40,I=!1,J=function(j){if(b)return!1;switch(j&&j.preventDefault(),b=!0,L(),M(),clearTimeout(i),"number"!=typeof u&&(u=15),0===parseInt(o,10)?(g=!0,h="auto",minWidth=20):(g=!1,h=o,minWidth=o),q){case"normal":q=400;break;case"fast":q=200;break;case"slow":q=600}switch(p){case"fade":e="fade";break;case"elastic":case"zoomIn":e="zoomIn";break;case"none":e="none",q=0,G=1}switch(s){case"normal":s=400;break;case"fast":s=200;break;case"slow":s=600}switch(r){case"fade":f="fade";break;case"zoomOut":f="elastic";break;case"none":f="none",s=0}n.css({padding:v+"px "+y+"px "+w+"px "+x+"px"}).addClass("op-popup-content-visible"),a.fancybox({content:n,autoSize:g,minHeight:20,width:h,minWidth:minWidth,padding:u,autoHeight:!0,height:"auto",openEasing:"swing",openEffect:"none",openMethod:"zoomIn",closeEffect:"fade",closeMethod:"zoomOut",openSpeed:q,closeSpeed:s,openOpacity:!0,wrapCSS:"op-popup-fancybox",helpers:{overlay:{css:{opacity:G}}},beforeShow:function(){"none"!==e&&c(this,e,q),n.parent().parent().parent().css("background-color",t),g&&n.parent().parent().parent().addClass("op-popup-fancybox-autosize")},afterShow:function(){a(window).trigger("op-popup-opened"),n.find("[data-fade]").each(function(){var b,c=a(this);c.css({display:"none"}),setTimeout(function(){b=c.attr("style"),b=b||"",b=b.replace(/display:\s?none;?/gi,""),a(window).trigger("resize"),c.attr("style",b),c.css({opacity:0}),c.animate({opacity:1}),c.removeAttr("data-fade")},1e3*parseInt(c.attr("data-fade"),10))})},onUpdate:function(){var b=a(".fancybox-overlay").width()-15,c=n.parentsUntil(".fancybox-skin").parent(),d=n.parentsUntil(".fancybox-wrap").parent();parseInt(d.css("left"),10);h+u+u>b-30?(d.css({width:b-u-u,left:15}),c.css({width:b-30-u-u,left:0})):(d.css({width:h+u+u,left:(b-h)/2}),c.css({width:h-u-u,left:0}))},beforeClose:function(){"none"!==f&&d(this,f,s)},afterClose:function(){n.removeClass("op-popup-content-visible"),a(window).trigger("op-popup-closed",n[0]),l.after(n),b=!1}})};l.on("click",J);var K=function(){var a=!1;return"Y"===D&&(a=window.innerWidth,959>=a&&a>=768)?!1:"Y"===E&&(a=a||window.innerWidth,767>=a)?!1:!0},L=function(){I=!0,j=setTimeout(function(){I=!1},1e3*F)};B=B?parseInt(B):0,B>0&&(i=setTimeout(function(){I||N()||!K()||J()},1e3*B)),"Y"===A&&(I=!1,k=-1,a("body").on("mousemove",function(a){I||N()||k<=a.clientY||!K()?k=a.clientY:(k=a.clientY,a.clientY<H&&J())})),C=C?parseInt(C):0;var M=function(){C>0&&OptimizePress.cookie.create(z,"dontshow",C)},N=function(){return!!OptimizePress.cookie.read(z)}});var c=function(b,c,d){var e=a(".fancybox-overlay"),f=a(b.content).parentsUntil(".fancybox-wrap").parent(),g="op-transform-normal",h="op-transform-1";switch(d){case 400:g="op-transform-normal";break;case 200:g="op-transform-fast";break;case 600:g="op-transform-slow"}h="fade"===c?"op-transform-1":"op-transform",e.removeClass("op-transform-1 op-transform-1-end").addClass("op-transform-1-start"),f.removeClass(g+" "+h+"-end").addClass(h+"-start"),setTimeout(function(){e.addClass("op-transform-1 op-transform-1-end"),f.addClass(g+" "+h+"-end")},100)},d=function(b,c,d){var e=a(".fancybox-overlay"),f=a(b.content).parentsUntil(".fancybox-wrap").parent(),g="op-transform-normal",h="op-transform-1";switch(d){case 400:g="op-transform-normal";break;case 200:g="op-transform-fast";break;case 600:g="op-transform-slow"}h="fade"===c?"op-transform-1":"op-transform",e.addClass("op-transform-1"),f.addClass(g+" "+h+"-end "+h+"-start"),setTimeout(function(){e.addClass("op-opacity-zero"),f.addClass(g).removeClass(h+"-end")},100)}});