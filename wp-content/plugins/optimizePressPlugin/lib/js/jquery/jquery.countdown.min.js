/*!
 * jquery-counter plugin
 *
 * Copyright (c) 2009 Martin Conte Mac Donell <Reflejo@gmail.com>
 * Dual licensed under the MIT and GPL licenses.
 * http://docs.jquery.com/License
 */
!function(a){opjq.fn.countdown=function(b){var c,d={stepTime:60,format:"dd:hh:mm:ss",startTime:"01:12:32:55",digitImages:6,digitWidth:53,digitHeight:77,timerEnd:function(){},image:"digits.png"},e=[],f=function(b){for(var c=0,f=0;f<d.startTime.length;f++){if(parseInt(d.startTime[f])>=0){switch(elem=a('<div id="cnt_'+f+'" class="cntDigit" />').css({height:d.digitHeight*d.digitImages*10,"float":"left",background:"url('"+d.image+"')",width:d.digitWidth}),e.push(elem),g(c,-(parseInt(d.startTime[f])*d.digitHeight*d.digitImages)),e[c].__max=9,d.format[f]){case"h":e[c].__max=c%2==0?2:9,c%2==0&&(e[c].__condmax=4);break;case"d":e[c].__max=9;break;case"m":case"s":e[c].__max=c%2==0?5:9}++c}else elem=a('<div class="cntSeparator"/>').css({"float":"left"}).text(d.startTime[f]);b.append(elem)}},g=function(a,b){return void 0!==b?e[a].css({marginTop:b+"px"}):parseInt(e[a].css("marginTop").replace("px",""))},h=function(a){return e[a]._digitInitial=-(e[a].__max*d.digitHeight*d.digitImages),function b(){if(mtop=g(a)+d.digitHeight,mtop==d.digitHeight){if(g(a,e[a]._digitInitial),!(a>0)){clearInterval(c);for(var f=0;f<e.length;f++)g(f,0);return void d.timerEnd()}return h(a-1)(),void(a>0&&void 0!==e[a].__condmax&&e[a-1]._digitInitial==g(a-1)&&g(a,-(e[a].__condmax*d.digitHeight*d.digitImages)))}g(a,mtop),g(a)/d.digitHeight%d.digitImages!=0&&setTimeout(b,d.stepTime),0==mtop&&(e[a].__ismax=!0)}};a.extend(d,b),this.css({height:d.digitHeight,overflow:"hidden"}),f(this),c=setInterval(h(e.length-1),1e3)}}(opjq);