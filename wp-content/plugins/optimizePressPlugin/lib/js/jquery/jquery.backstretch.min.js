!function(a){a.backstretch=function(b,c,d){function e(b){try{m={left:0,top:0},j=n.width(),k=j/i,k>=n.height()?(l=(k-n.height())/2,h.centeredY&&a.extend(m,{top:"-"+l+"px"})):(k=n.height(),j=k*i,l=(j-n.width())/2,h.centeredX&&a.extend(m,{left:"-"+l+"px"})),a("#backstretch, #backstretch img:not(.deleteable)").width(j).height(k).filter("img").css(m)}catch(c){}"function"==typeof b&&b()}var f={centeredX:!0,centeredY:!0,speed:0},g=a("#backstretch"),h=g.data("settings")||f;g.data("settings");var i,j,k,l,m,n=a("onorientationchange"in window?document:window);return c&&"object"==typeof c&&a.extend(h,c),c&&"function"==typeof c&&(d=c),a(document).ready(function(){if(b){var c;0==g.length?g=a("<div />").attr("id","backstretch").css({left:0,top:0,position:"fixed",overflow:"hidden",zIndex:-999999,margin:0,padding:0,height:"100%",width:"100%"}):g.find("img").addClass("deleteable"),c=a("<img />").css({position:"absolute",display:"none",margin:0,padding:0,border:"none",zIndex:-999999}).bind("load",function(b){var c,f=a(this);f.css({width:"auto",height:"auto"}),c=this.width||a(b.target).width(),b=this.height||a(b.target).height(),i=c/b,e(function(){f.fadeIn(h.speed,function(){g.find(".deleteable").remove(),"function"==typeof d&&d()})})}).appendTo(g),0==a("body #backstretch").length&&a("body").append(g),g.data("settings",h),c.attr("src",b),a(window).resize(e)}}),this}}(opjq);