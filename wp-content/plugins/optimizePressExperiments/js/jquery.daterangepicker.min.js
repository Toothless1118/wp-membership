!function(a){"function"==typeof define&&define.amd?define(["jquery","moment"],a):"object"==typeof exports&&"undefined"!=typeof module?module.exports=a(require("jquery"),require("moment")):a(jQuery,moment)}(function(a,b){a.dateRangePickerLanguages={default:{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":["january","february","march","april","may","june","july","august","september","october","november","december"],shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},az:{selected:"Seçildi:",day:" gün",days:" gün",apply:"tətbiq","week-1":"1","week-2":"2","week-3":"3","week-4":"4","week-5":"5","week-6":"6","week-7":"7","month-name":["yanvar","fevral","mart","aprel","may","iyun","iyul","avqust","sentyabr","oktyabr","noyabr","dekabr"],shortcuts:"Qısayollar",past:"Keçmiş",following:"Növbəti",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Öncəki həftə","prev-month":"Öncəki ay","prev-year":"Öncəki il",next:"&nbsp;&nbsp;&nbsp;","next-week":"Növbəti həftə","next-month":"Növbəti ay","next-year":"Növbəti il","less-than":"Tarix aralığı %d gündən çox olmamalıdır","more-than":"Tarix aralığı %d gündən az olmamalıdır","default-more":"%d gündən çox bir tarix seçin","default-single":"Tarix seçin","default-less":"%d gündən az bir tarix seçin","default-range":"%d və %d gün aralığında tarixlər seçin","default-default":"Tarix aralığı seçin"},cn:{selected:"已选择:",day:"天",days:"天",apply:"确定","week-1":"一","week-2":"二","week-3":"三","week-4":"四","week-5":"五","week-6":"六","week-7":"日","week-number":"周","month-name":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortcuts:"快捷选择",past:"过去",following:"将来",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"上周","prev-month":"上个月","prev-year":"去年",next:"&nbsp;&nbsp;&nbsp;","next-week":"下周","next-month":"下个月","next-year":"明年","less-than":"所选日期范围不能大于%d天","more-than":"所选日期范围不能小于%d天","default-more":"请选择大于%d天的日期范围","default-less":"请选择小于%d天的日期范围","default-range":"请选择%d天到%d天的日期范围","default-single":"请选择一个日期","default-default":"请选择一个日期范围",time:"时间",hour:"小时",minute:"分钟"},cz:{selected:"Vybráno:",day:"Den",days:"Dny",apply:"Zavřít","week-1":"po","week-2":"út","week-3":"st","week-4":"čt","week-5":"pá","week-6":"so","week-7":"ne","month-name":["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],shortcuts:"Zkratky",past:"po",following:"následující",previous:"předchozí","prev-week":"týden","prev-month":"měsíc","prev-year":"rok",next:"další","next-week":"týden","next-month":"měsíc","next-year":"rok","less-than":"Rozsah data by neměl být větší než %d dnů","more-than":"Rozsah data by neměl být menší než %d dnů","default-more":"Prosím zvolte rozsah data větší než %d dnů","default-single":"Prosím zvolte datum","default-less":"Prosím zvolte rozsah data menší než %d dnů","default-range":"Prosím zvolte rozsah data mezi %d a %d dny","default-default":"Prosím zvolte rozsah data"},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schließen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":["januar","februar","märz","april","mai","juni","juli","august","september","oktober","november","dezember"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"Nächste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht größer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage auswählen","default-single":"Bitte ein Datum auswählen","default-less":"Bitte weniger als %d Tage auswählen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen","default-default":"Bitte ein Start- und Enddatum auswählen",Time:"Zeit",hour:"Stunde",minute:"Minute"},es:{selected:"Seleccionado:",day:"Dia",days:"Dias",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"Año",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"Año","less-than":"El rango no deberia ser mayor de %d dias","more-than":"El rango no deberia ser menor de %d dias","default-more":"Por favor selecciona un rango mayor a %d dias","default-single":"Por favor selecciona un dia","default-less":"Por favor selecciona un rango menor a %d dias","default-range":"Por favor selecciona un rango entre %d y %d dias","default-default":"Por favor selecciona un rango de fechas."},fr:{selected:"Sélection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortcuts:"Raccourcis",past:"Passé",following:"Suivant",previous:"Précédent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Année",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Année","less-than":"L'intervalle ne doit pas être supérieure à %d jours","more-than":"L'intervalle ne doit pas être inférieure à %d jours","default-more":"Merci de choisir une intervalle supérieure à %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inférieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},hu:{selected:"Kiválasztva:",day:"Nap",days:"Nap",apply:"Ok","week-1":"h","week-2":"k","week-3":"sz","week-4":"cs","week-5":"p","week-6":"sz","week-7":"v","month-name":["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],shortcuts:"Gyorsválasztó",past:"Múlt",following:"Következő",previous:"Előző","prev-week":"Hét","prev-month":"Hónap","prev-year":"Év",next:"Következő","next-week":"Hét","next-month":"Hónap","next-year":"Év","less-than":"A kiválasztás nem lehet több %d napnál","more-than":"A kiválasztás nem lehet több %d napnál","default-more":"Válassz ki egy időszakot ami hosszabb mint %d nap","default-single":"Válassz egy napot","default-less":"Válassz ki egy időszakot ami rövidebb mint %d nap","default-range":"Válassz ki egy %d - %d nap hosszú időszakot","default-default":"Válassz ki egy időszakot"},it:{selected:"Selezionati:",day:"Giorno",days:"Giorni",apply:"Chiudi","week-1":"lu","week-2":"ma","week-3":"me","week-4":"gi","week-5":"ve","week-6":"sa","week-7":"do","month-name":["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],shortcuts:"Scorciatoie",past:"Scorso",following:"Successivo",previous:"Precedente","prev-week":"Settimana","prev-month":"Mese","prev-year":"Anno",next:"Prossimo","next-week":"Settimana","next-month":"Mese","next-year":"Anno","less-than":"L'intervallo non dev'essere maggiore di %d giorni","more-than":"L'intervallo non dev'essere minore di %d giorni","default-more":"Seleziona un intervallo maggiore di %d giorni","default-single":"Seleziona una data","default-less":"Seleziona un intervallo minore di %d giorni","default-range":"Seleziona un intervallo compreso tra i %d e i %d giorni","default-default":"Seleziona un intervallo di date"},no:{selected:"Valgt:",day:"Dag",days:"Dager",apply:"Lukk","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"lø","week-7":"sø","month-name":["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],shortcuts:"Snarveier","custom-values":"Egendefinerte Verdier",past:"Over",following:"Følger",previous:"Forrige","prev-week":"Uke","prev-month":"Måned","prev-year":"År",next:"Neste","next-week":"Uke","next-month":"Måned","next-year":"År","less-than":"Datoperioden skal ikkje være lengre enn %d dager","more-than":"Datoperioden skal ikkje være kortere enn %d dager","default-more":"Vennligst velg ein datoperiode lengre enn %d dager","default-single":"Vennligst velg ein dato","default-less":"Vennligst velg ein datoperiode mindre enn %d dager","default-range":"Vennligst velg ein datoperiode mellom %d og %d dager","default-default":"Vennligst velg ein datoperiode",time:"Tid",hour:"Time",minute:"Minutter"},nl:{selected:"Geselecteerd:",day:"Dag",days:"Dagen",apply:"Ok","week-1":"ma","week-2":"di","week-3":"wo","week-4":"do","week-5":"vr","week-6":"za","week-7":"zo","month-name":["januari","februari","maart","april","mei","juni","juli","augustus","september","october","november","december"],shortcuts:"Snelkoppelingen","custom-values":"Aangepaste waarden",past:"Verleden",following:"Komend",previous:"Vorige","prev-week":"Week","prev-month":"Maand","prev-year":"Jaar",next:"Volgende","next-week":"Week","next-month":"Maand","next-year":"Jaar","less-than":"Interval moet langer dan %d dagen zijn","more-than":"Interval mag niet minder dan %d dagen zijn","default-more":"Selecteer een interval langer dan %dagen","default-single":"Selecteer een datum","default-less":"Selecteer een interval minder dan %d dagen","default-range":"Selecteer een interval tussen %d en %d dagen","default-default":"Selecteer een interval",time:"Tijd",hour:"Uur",minute:"Minuut"},ru:{selected:"Выбрано:",day:"День",days:"Дней",apply:"Закрыть","week-1":"пн","week-2":"вт","week-3":"ср","week-4":"чт","week-5":"пт","week-6":"сб","week-7":"вс","month-name":["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],shortcuts:"Быстрый выбор",past:"Прошедшие",following:"Следующие",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Неделя","prev-month":"Месяц","prev-year":"Год",next:"&nbsp;&nbsp;&nbsp;","next-week":"Неделя","next-month":"Месяц","next-year":"Год","less-than":"Диапазон не может быть больше %d дней","more-than":"Диапазон не может быть меньше %d дней","default-more":"Пожалуйста выберите диапазон больше %d дней","default-single":"Пожалуйста выберите дату","default-less":"Пожалуйста выберите диапазон меньше %d дней","default-range":"Пожалуйста выберите диапазон между %d и %d днями","default-default":"Пожалуйста выберите диапазон"},pl:{selected:"Wybrany:",day:"Dzień",days:"Dni",apply:"Zamknij","week-1":"pon","week-2":"wt","week-3":"śr","week-4":"czw","week-5":"pt","week-6":"so","week-7":"nd","month-name":["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],shortcuts:"Skróty","custom-values":"Niestandardowe wartości",past:"Przeszłe",following:"Następne",previous:"Poprzednie","prev-week":"tydzień","prev-month":"miesiąc","prev-year":"rok",next:"Następny","next-week":"tydzień","next-month":"miesiąc","next-year":"rok","less-than":"Okres nie powinien być dłuższy niż %d dni","more-than":"Okres nie powinien być krótszy niż  %d ni","default-more":"Wybierz okres dłuższy niż %d dni","default-single":"Wybierz datę","default-less":"Wybierz okres krótszy niż %d dni","default-range":"Wybierz okres trwający od %d do %d dni","default-default":"Wybierz okres",time:"Czas",hour:"Godzina",minute:"Minuta"},se:{selected:"Vald:",day:"dag",days:"dagar",apply:"godkänn","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"lö","week-7":"sö","month-name":["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],shortcuts:"genvägar","custom-values":"Anpassade värden",past:"över",following:"följande",previous:"förra","prev-week":"vecka","prev-month":"månad","prev-year":"år",next:"nästa","next-week":"vecka","next-month":"måned","next-year":"år","less-than":"Datumintervall bör inte vara mindre än %d dagar","more-than":"Datumintervall bör inte vara mer än %d dagar","default-more":"Välj ett datumintervall längre än %d dagar","default-single":"Välj ett datum","default-less":"Välj ett datumintervall mindre än %d dagar","default-range":"Välj ett datumintervall mellan %d och %d dagar","default-default":"Välj ett datumintervall",time:"tid",hour:"timme",minute:"minut"}},a.fn.dateRangePicker=function(c){function d(b,c){return c.contains(b.target)||b.target==c||void 0!=c.childNodes&&a.inArray(b.target,c.childNodes)>=0}function e(){function e(b){var d=a(b).parents("table").hasClass("month2"),e=d?c.month2:c.month1;e=O(e),!c.singleMonth&&!c.singleDate&&!d&&M(e,c.month2)>=0||U(e)||(F(e,d?"month2":"month1"),J())}function g(a){var b=O(c.month1),d=O(c.month2);U(d)||!c.singleDate&&M(b,d)>=0||(F(b,"month1"),F(d,"month2"),E())}function h(b){var d=a(b).parents("table").hasClass("month2"),e=d?c.month2:c.month1;e=P(e),d&&M(e,c.month1)<=0||U(e)||(F(e,d?"month2":"month1"),J())}function i(a){var b=P(c.month1),d=P(c.month2);U(b)||!c.singleDate&&M(d,b)<=0||(F(d,"month2"),F(b,"month1"),E())}var j=this;if(a(this).data("date-picker-opened"))return void K();a(this).data("date-picker-opened",!0),ea=R().hide(),ea.append('<div class="date-range-length-tip"></div>'),ea.delegate(".day","mouseleave",function(){ea.find(".date-range-length-tip").hide(),c.singleDate&&x()}),a(c.container).append(ea),c.inline?ea.addClass("inline-wrapper"):f(),c.alwaysOpen&&ea.find(".apply-btn").hide();var l=ca();if(da(l),c.time.enabled)if(c.startDate&&c.endDate||c.start&&c.end)G(b(c.start||c.startDate).toDate(),"time1"),G(b(c.end||c.endDate).toDate(),"time2");else{var m=c.defaultEndTime?c.defaultEndTime:l;G(l,"time1"),G(m,"time2")}var n="";n=ba(c.singleDate?"default-single":c.minDays&&c.maxDays?"default-range":c.minDays?"default-more":c.maxDays?"default-less":"default-default"),ea.find(".default-top").html(n.replace(/\%d/,c.minDays).replace(/\%d/,c.maxDays)),c.singleMonth?ea.addClass("single-month"):ea.addClass("two-months"),setTimeout(function(){k(),ha=!0},0),ea.click(function(a){a.stopPropagation()}),a(document).bind("click.datepicker",function(a){d(a,j[0])||ea.is(":visible")&&K()}),ea.find(".next").click(function(){c.stickyMonths?g(this):e(this)}),ea.find(".prev").click(function(){c.stickyMonths?i(this):h(this)}),ea.delegate(".day","click",function(b){s(a(this))}),ea.delegate(".day","mouseenter",function(b){w(a(this))}),ea.delegate(".week-number","click",function(b){t(a(this))}),ea.attr("unselectable","on").css("user-select","none").bind("selectstart",function(a){return a.preventDefault(),!1}),ea.find(".apply-btn").click(function(){K();var b=I(new Date(c.start))+c.separator+I(new Date(c.end));a(j).trigger("datepicker-apply",{value:b,date1:new Date(c.start),date2:new Date(c.end)})}),ea.find("[custom]").click(function(){var b=a(this).attr("custom");c.start=!1,c.end=!1,ea.find(".day.checked").removeClass("checked"),c.setValue.call(ja,b),z(),A(!0),E(),c.autoClose&&K()}),ea.find("[shortcut]").click(function(){var b=a(this).attr("shortcut"),d=new Date,e=!1;if(b.indexOf("day")!=-1){var f=parseInt(b.split(",",2)[1],10);e=new Date((new Date).getTime()+864e5*f),d=new Date(d.getTime()+864e5*(f>0?1:-1))}else if(b.indexOf("week")!=-1){var g=b.indexOf("prev,")!=-1?-1:1;if(1==g)var h="monday"==c.startOfWeek?1:0;else var h="monday"==c.startOfWeek?0:6;for(d=new Date(d.getTime()-864e5);d.getDay()!=h;)d=new Date(d.getTime()+864e5*g);e=new Date(d.getTime()+864e5*g*6)}else if(b.indexOf("month")!=-1){var g=b.indexOf("prev,")!=-1?-1:1;e=1==g?O(d):P(d),e.setDate(1),d=O(e),d.setDate(1),d=new Date(d.getTime()-864e5)}else if(b.indexOf("year")!=-1){var g=b.indexOf("prev,")!=-1?-1:1;e=new Date,e.setFullYear(d.getFullYear()+g),e.setMonth(0),e.setDate(1),d.setFullYear(d.getFullYear()+g),d.setMonth(11),d.setDate(31)}else if("custom"==b){var i=a(this).html();if(c.customShortcuts&&c.customShortcuts.length>0)for(var j=0;j<c.customShortcuts.length;j++){var k=c.customShortcuts[j];if(k.name==i){var l=[];l=k.dates.call(),l&&2==l.length&&(e=l[0],d=l[1]),l&&1==l.length&&(movetodate=l[0],F(movetodate,"month1"),F(O(movetodate),"month2"),J());break}}}e&&d&&(C(e,d),z())}),ea.find(".time1 input[type=range]").bind("change touchmove mousemove",function(b){var c=b.target,d="hour"==c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0,e="minute"==c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0;o("time1",d,e)}),ea.find(".time2 input[type=range]").bind("change touchmove mousemove",function(b){var c=b.target,d="hour"==c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0,e="minute"==c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0;o("time2",d,e)})}function f(){if(!c.inline){var b=a(ia).offset();if("relative"==a(c.container).css("position")){var d=a(c.container).offset();ea.css({top:b.top-d.top+a(ia).outerHeight()+4,left:b.left-d.left})}else b.left<460?ea.css({top:b.top+a(ia).outerHeight()+parseInt(a("body").css("border-top")||0,10),left:b.left}):ea.css({top:b.top+a(ia).outerHeight()+parseInt(a("body").css("border-top")||0,10),left:b.left+a(ia).width()-ea.width()-16})}}function g(){return ea}function h(b){f(),L(),i(),c.customOpenAnimation?c.customOpenAnimation.call(ea.get(0),function(){a(ia).trigger("datepicker-opened",{relatedTarget:ea})}):ea.slideDown(b,function(){a(ia).trigger("datepicker-opened",{relatedTarget:ea})}),a(ia).trigger("datepicker-open",{relatedTarget:ea}),J(),k()}function i(){var a=c.getValue.call(ja),d=a?a.split(c.separator):"";if(d&&(1==d.length&&c.singleDate||d.length>=2)){var e=c.format;e.match(/Do/)&&(e=e.replace(/Do/,"D"),d[0]=d[0].replace(/(\d+)(th|nd|st)/,"$1"),d.length>=2&&(d[1]=d[1].replace(/(\d+)(th|nd|st)/,"$1"))),ha=!1,d.length>=2?C(j(d[0],e,b.locale(c.language)),j(d[1],e,b.locale(c.language))):1==d.length&&c.singleDate&&D(j(d[0],e,b.locale(c.language))),ha=!0}}function j(a,c,d){return b(a,c,d).isValid()?b(a,c,d).toDate():b().toDate()}function k(){var a=ea.find(".gap").css("margin-left");a&&(a=parseInt(a));var b=ea.find(".month1").width(),c=ea.find(".gap").width()+(a?2*a:0),d=ea.find(".month2").width();ea.find(".month-wrapper").width(b+c+d)}function l(a,c){ea.find("."+a+" input[type=range].hour-range").val(b(c).hours()),ea.find("."+a+" input[type=range].minute-range").val(b(c).minutes()),o(a,b(c).format("HH"),b(c).format("mm"))}function m(a,d){c[a]=parseInt(b(parseInt(d)).startOf("day").add(b(c[a+"Time"]).format("HH"),"h").add(b(c[a+"Time"]).format("mm"),"m").valueOf())}function n(){l("time1",c.start),l("time2",c.end)}function o(a,d,e){function f(a,b){var f=b.format("HH"),g=b.format("mm");c[a]=b.startOf("day").add(d||f,"h").add(e||g,"m").valueOf()}switch(d&&ea.find("."+a+" .hour-val").text(d),e&&ea.find("."+a+" .minute-val").text(e),a){case"time1":c.start&&f("start",b(c.start)),f("startTime",b(c.startTime||b().valueOf()));break;case"time2":c.end&&f("end",b(c.end)),f("endTime",b(c.endTime||b().valueOf()))}z(),A(),E()}function p(){c.start=!1,c.end=!1,ea.find(".day.checked").removeClass("checked"),ea.find(".day.last-date-selected").removeClass("last-date-selected"),ea.find(".day.first-date-selected").removeClass("first-date-selected"),c.setValue.call(ja,""),z(),A(),E()}function q(a){var d=a;return"week-range"===c.batchMode?d="monday"===c.startOfWeek?b(parseInt(a)).startOf("isoweek").valueOf():b(parseInt(a)).startOf("week").valueOf():"month-range"===c.batchMode&&(d=b(parseInt(a)).startOf("month").valueOf()),d}function r(a){var d=a;return"week-range"===c.batchMode?d="monday"===c.startOfWeek?b(parseInt(a)).endOf("isoweek").valueOf():b(parseInt(a)).endOf("week").valueOf():"month-range"===c.batchMode&&(d=b(parseInt(a)).endOf("month").valueOf()),d}function s(d){if(!d.hasClass("invalid")){var e=d.attr("time");if(d.addClass("checked"),c.singleDate?(c.start=e,c.end=!1):"week"===c.batchMode?"monday"===c.startOfWeek?(c.start=b(parseInt(e)).startOf("isoweek").valueOf(),c.end=b(parseInt(e)).endOf("isoweek").valueOf()):(c.end=b(parseInt(e)).endOf("week").valueOf(),c.start=b(parseInt(e)).startOf("week").valueOf()):"workweek"===c.batchMode?(c.start=b(parseInt(e)).day(1).valueOf(),c.end=b(parseInt(e)).day(5).valueOf()):"weekend"===c.batchMode?(c.start=b(parseInt(e)).day(6).valueOf(),c.end=b(parseInt(e)).day(7).valueOf()):"month"===c.batchMode?(c.start=b(parseInt(e)).startOf("month").valueOf(),c.end=b(parseInt(e)).endOf("month").valueOf()):c.start&&c.end||!c.start&&!c.end?(c.start=q(e),c.end=!1):c.start&&(c.end=r(e),c.time.enabled&&m("end",c.end)),c.time.enabled&&(c.start&&m("start",c.start),c.end&&m("end",c.end)),!c.singleDate&&c.start&&c.end&&c.start>c.end){var f=c.end;c.end=r(c.start),c.start=q(f),c.time.enabled&&c.swapTime&&n()}c.start=parseInt(c.start),c.end=parseInt(c.end),x(),c.start&&!c.end&&(a(ia).trigger("datepicker-first-date-selected",{date1:new Date(c.start)}),w(d)),v(e),z(),A(),E(),y()}}function t(a){var d=parseInt(a.attr("data-start-time"),10);if(c.startWeek){ea.find(".week-number-selected").removeClass("week-number-selected");var e=new Date(d<c.startWeek?d:c.startWeek),f=new Date(d<c.startWeek?c.startWeek:d);c.startWeek=!1,c.start=b(e).day("monday"==c.startOfWeek?1:0).valueOf(),c.end=b(f).day("monday"==c.startOfWeek?7:6).valueOf()}else{c.startWeek=d,a.addClass("week-number-selected");var e=new Date(d);c.start=b(e).day("monday"==c.startOfWeek?1:0).valueOf(),c.end=b(e).day("monday"==c.startOfWeek?7:6).valueOf()}v(),z(),A(),E(),y()}function u(a){if(a=parseInt(a,10),c.startDate&&N(a,c.startDate)<0)return!1;if(c.endDate&&N(a,c.endDate)>0)return!1;if(c.start&&!c.end&&!c.singleDate){if(c.maxDays>0&&B(a,c.start)>c.maxDays)return!1;if(c.minDays>0&&B(a,c.start)<c.minDays)return!1;if(c.selectForward&&a<c.start)return!1;if(c.selectBackward&&a>c.start)return!1;if(c.beforeShowDay&&"function"==typeof c.beforeShowDay){for(var b=!0,d=a;B(d,c.start)>1;){var e=c.beforeShowDay(new Date(d));if(!e[0]){b=!1;break}if(Math.abs(d-c.start)<864e5)break;d>c.start&&(d-=864e5),d<c.start&&(d+=864e5)}if(!b)return!1}}return!0}function v(){return ea.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"),c.start&&!c.end&&ea.find(".day.toMonth.valid").each(function(){var b=parseInt(a(this).attr("time"),10);u(b)?a(this).addClass("valid tmp").removeClass("invalid"):a(this).addClass("invalid tmp").removeClass("valid")}),!0}function w(b){var d=parseInt(b.attr("time")),e="";if(b.hasClass("has-tooltip")&&b.attr("data-tooltip"))e='<span style="white-space:nowrap">'+b.attr("data-tooltip")+"</span>";else if(!b.hasClass("invalid"))if(c.singleDate)ea.find(".day.hovering").removeClass("hovering"),b.addClass("hovering");else if(ea.find(".day").each(function(){var b=parseInt(a(this).attr("time"));c.start,c.end;b==d?a(this).addClass("hovering"):a(this).removeClass("hovering"),c.start&&!c.end&&(c.start<b&&d>=b||c.start>b&&d<=b)?a(this).addClass("hovering"):a(this).removeClass("hovering")}),c.start&&!c.end){var f=B(d,c.start);c.hoveringTooltip&&("function"==typeof c.hoveringTooltip?e=c.hoveringTooltip(f,c.start,d):c.hoveringTooltip===!0&&f>1&&(e=f+" "+ba("days")))}if(e){var g=b.offset(),h=ea.offset(),i=g.left-h.left,j=g.top-h.top;i+=b.width()/2;var k=ea.find(".date-range-length-tip"),l=k.css({visibility:"hidden",display:"none"}).html(e).width(),m=k.height();i-=l/2,j-=m,setTimeout(function(){k.css({left:i,top:j,display:"block",visibility:"visible"})},10)}else ea.find(".date-range-length-tip").hide()}function x(){ea.find(".day.hovering").removeClass("hovering"),ea.find(".date-range-length-tip").hide()}function y(){c.singleDate===!0?ha&&c.start&&c.autoClose&&K():ha&&c.start&&c.end&&c.autoClose&&K()}function z(){var a=Math.ceil((c.end-c.start)/864e5)+1;c.singleDate?c.start&&!c.end?ea.find(".drp_top-bar").removeClass("error").addClass("normal"):ea.find(".drp_top-bar").removeClass("error").removeClass("normal"):c.maxDays&&a>c.maxDays?(c.start=!1,c.end=!1,ea.find(".day").removeClass("checked"),ea.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(ba("less-than").replace("%d",c.maxDays))):c.minDays&&a<c.minDays?(c.start=!1,c.end=!1,ea.find(".day").removeClass("checked"),ea.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(ba("more-than").replace("%d",c.minDays))):c.start||c.end?ea.find(".drp_top-bar").removeClass("error").addClass("normal"):ea.find(".drp_top-bar").removeClass("error").removeClass("normal"),c.singleDate&&c.start&&!c.end||!c.singleDate&&c.start&&c.end?ea.find(".apply-btn").removeClass("disabled"):ea.find(".apply-btn").addClass("disabled"),c.batchMode&&(c.start&&c.startDate&&N(c.start,c.startDate)<0||c.end&&c.endDate&&N(c.end,c.endDate)>0)&&(c.start=!1,c.end=!1,ea.find(".day").removeClass("checked"))}function A(b,d){if(ea.find(".start-day").html("..."),ea.find(".end-day").html("..."),ea.find(".selected-days").hide(),c.start&&ea.find(".start-day").html(I(new Date(parseInt(c.start)))),c.end&&ea.find(".end-day").html(I(new Date(parseInt(c.end)))),c.start&&c.singleDate){ea.find(".apply-btn").removeClass("disabled");var e=I(new Date(c.start));c.setValue.call(ja,e,I(new Date(c.start)),I(new Date(c.end))),ha&&!d&&a(ia).trigger("datepicker-change",{value:e,date1:new Date(c.start)})}else if(c.start&&c.end){ea.find(".selected-days").show().find(".selected-days-num").html(B(c.end,c.start)),ea.find(".apply-btn").removeClass("disabled");var e=I(new Date(c.start))+c.separator+I(new Date(c.end));c.setValue.call(ja,e,I(new Date(c.start)),I(new Date(c.end))),ha&&!d&&a(ia).trigger("datepicker-change",{value:e,date1:new Date(c.start),date2:new Date(c.end)})}else b?ea.find(".apply-btn").removeClass("disabled"):ea.find(".apply-btn").addClass("disabled")}function B(a,b){return Math.abs(Y(a)-Y(b))+1}function C(a,b,d){if(a.getTime()>b.getTime()){var e=b;b=a,a=e,e=null}var f=!0;return c.startDate&&N(a,c.startDate)<0&&(f=!1),c.endDate&&N(b,c.endDate)>0&&(f=!1),f?(c.start=a.getTime(),c.end=b.getTime(),c.time.enabled&&(l("time1",a),l("time2",b)),(c.stickyMonths||N(a,b)>0&&0===M(a,b))&&(c.lookBehind?a=P(b):b=O(a)),c.stickyMonths&&M(b,c.endDate)>0&&(a=P(a),b=P(b)),c.stickyMonths||0===M(a,b)&&(c.lookBehind?a=P(b):b=O(a)),F(a,"month1"),F(b,"month2"),J(),z(),A(!1,d),void y()):(F(c.startDate,"month1"),F(O(c.startDate),"month2"),void J())}function D(a){var b=!0;return c.startDate&&N(a,c.startDate)<0&&(b=!1),c.endDate&&N(a,c.endDate)>0&&(b=!1),b?(c.start=a.getTime(),c.time.enabled&&l("time1",a),F(a,"month1"),c.singleMonth!==!0&&(date2=O(a),F(date2,"month2")),J(),A(),void y()):void F(c.startDate,"month1")}function E(){(c.start||c.end)&&(ea.find(".day").each(function(){var d=parseInt(a(this).attr("time")),e=c.start,f=c.end;c.time.enabled&&(d=b(d).startOf("day").valueOf(),e=b(e||b().valueOf()).startOf("day").valueOf(),f=b(f||b().valueOf()).startOf("day").valueOf()),c.start&&c.end&&f>=d&&e<=d||c.start&&!c.end&&b(e).format("YYYY-MM-DD")==b(d).format("YYYY-MM-DD")?a(this).addClass("checked"):a(this).removeClass("checked"),c.start&&b(e).format("YYYY-MM-DD")==b(d).format("YYYY-MM-DD")?a(this).addClass("first-date-selected"):a(this).removeClass("first-date-selected"),c.end&&b(f).format("YYYY-MM-DD")==b(d).format("YYYY-MM-DD")?a(this).addClass("last-date-selected"):a(this).removeClass("last-date-selected")}),ea.find(".week-number").each(function(){a(this).attr("data-start-time")==c.startWeek&&a(this).addClass("week-number-selected")}))}function F(a,d){a=b(a).toDate();var e=H(a.getMonth());ea.find("."+d+" .month-name").html(e+" "+a.getFullYear()),ea.find("."+d+" tbody").html($(a)),c[d]=a,v()}function G(a,b){ea.find("."+b).append(Q()),l(b,a)}function H(a){return ba("month-name")[a]}function I(a){return b(a).format(c.format)}function J(){E();var a=parseInt(b(c.month1).format("YYYYMM")),d=parseInt(b(c.month2).format("YYYYMM")),e=Math.abs(a-d),f=e>1&&89!=e;f?ea.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):ea.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");var g=ea.find("table.month1").height(),h=ea.find("table.month2").height();ea.find(".gap").height(Math.max(g,h)+10)}function K(){if(!c.alwaysOpen){var b=function(){a(ia).data("date-picker-opened",!1),a(ia).trigger("datepicker-closed",{relatedTarget:ea})};c.customCloseAnimation?c.customCloseAnimation.call(ea.get(0),b):a(ea).slideUp(c.duration,b),a(ia).trigger("datepicker-close",{relatedTarget:ea})}}function L(){F(c.month1,"month1"),F(c.month2,"month2")}function M(a,c){var d=parseInt(b(a).format("YYYYMM"))-parseInt(b(c).format("YYYYMM"));return d>0?1:0===d?0:-1}function N(a,c){var d=parseInt(b(a).format("YYYYMMDD"))-parseInt(b(c).format("YYYYMMDD"));return d>0?1:0===d?0:-1}function O(a){return b(a).add(1,"months").toDate()}function P(a){return b(a).add(-1,"months").toDate()}function Q(){return"<div><span>"+ba("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>'+ba("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>'+ba("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>'}function R(){var b='<div class="date-picker-wrapper';c.extraClass&&(b+=" "+c.extraClass+" "),c.singleDate&&(b+=" single-date "),c.showShortcuts||(b+=" no-shortcuts "),c.showTopbar||(b+=" no-topbar "),c.customTopBar&&(b+=" custom-topbar "),b+='">',c.showTopbar&&(b+='<div class="drp_top-bar">',c.customTopBar?("function"==typeof c.customTopBar&&(c.customTopBar=c.customTopBar()),b+='<div class="custom-top">'+c.customTopBar+"</div>"):(b+='<div class="normal-top"><span style="color:#333">'+ba("selected")+' </span> <b class="start-day">...</b>',c.singleDate||(b+=' <span class="separator-day">'+c.separator+'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> '+ba("days")+")</i>"),b+="</div>",b+='<div class="error-top">error</div><div class="default-top">default</div>'),b+='<input type="button" class="apply-btn disabled'+S()+'" value="'+ba("apply")+'" />',b+="</div>");var d=c.showWeekNumbers?6:5;if(b+='<div class="month-wrapper"><table class="month1" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;"><span class="prev">&lt;</span></th><th colspan="'+d+'" class="month-name"></th><th style="width:27px;">'+(c.singleDate||!c.stickyMonths?'<span class="next">&gt;</span>':"")+'</th></tr><tr class="week-name">'+T()+"</thead><tbody></tbody></table>",W()&&(b+='<div class="gap">'+V()+'</div><table class="month2" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;">'+(c.stickyMonths?"":'<span class="prev">&lt;</span>')+'</th><th colspan="'+d+'" class="month-name"></th><th style="width:27px;"><span class="next">&gt;</span></th></tr><tr class="week-name">'+T()+"</thead><tbody></tbody></table>"),b+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>',c.singleDate||(b+='<div class="time2"></div>'),b+='</div><div style="clear:both;height:0;font-size:0;"></div></div>',b+='<div class="footer">',c.showShortcuts){b+='<div class="shortcuts"><b>'+ba("shortcuts")+"</b>";var e=c.shortcuts;if(e){if(e["prev-days"]&&e["prev-days"].length>0){b+='&nbsp;<span class="prev-days">'+ba("past");for(var f=0;f<e["prev-days"].length;f++){var g=e["prev-days"][f];g+=ba(e["prev-days"][f]>1?"days":"day"),b+=' <a href="javascript:;" shortcut="day,-'+e["prev-days"][f]+'">'+g+"</a>";
}b+="</span>"}if(e["next-days"]&&e["next-days"].length>0){b+='&nbsp;<span class="next-days">'+ba("following");for(var f=0;f<e["next-days"].length;f++){var g=e["next-days"][f];g+=ba(e["next-days"][f]>1?"days":"day"),b+=' <a href="javascript:;" shortcut="day,'+e["next-days"][f]+'">'+g+"</a>"}b+="</span>"}if(e.prev&&e.prev.length>0){b+='&nbsp;<span class="prev-buttons">'+ba("previous");for(var f=0;f<e.prev.length;f++){var g=ba("prev-"+e.prev[f]);b+=' <a href="javascript:;" shortcut="prev,'+e.prev[f]+'">'+g+"</a>"}b+="</span>"}if(e.next&&e.next.length>0){b+='&nbsp;<span class="next-buttons">'+ba("next");for(var f=0;f<e.next.length;f++){var g=ba("next-"+e.next[f]);b+=' <a href="javascript:;" shortcut="next,'+e.next[f]+'">'+g+"</a>"}b+="</span>"}}if(c.customShortcuts)for(var f=0;f<c.customShortcuts.length;f++){var h=c.customShortcuts[f];b+='&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+h.name+"</a></span>"}b+="</div>"}if(c.showCustomValues&&(b+='<div class="customValues"><b>'+(c.customValueLabel||ba("custom-values"))+"</b>",c.customValues))for(var f=0;f<c.customValues.length;f++){var i=c.customValues[f];b+='&nbsp;<span class="custom-value"><a href="javascript:;" custom="'+i.value+'">'+i.name+"</a></span>"}return b+="</div></div>",a(b)}function S(){var a="";return c.autoClose===!0&&(a+=" hide"),""!==c.applyBtnClass&&(a+=" "+c.applyBtnClass),a}function T(){var a=c.showWeekNumbers?"<th>"+ba("week-number")+"</th>":"";return"monday"==c.startOfWeek?a+"<th>"+ba("week-1")+"</th><th>"+ba("week-2")+"</th><th>"+ba("week-3")+"</th><th>"+ba("week-4")+"</th><th>"+ba("week-5")+"</th><th>"+ba("week-6")+"</th><th>"+ba("week-7")+"</th>":a+"<th>"+ba("week-7")+"</th><th>"+ba("week-1")+"</th><th>"+ba("week-2")+"</th><th>"+ba("week-3")+"</th><th>"+ba("week-4")+"</th><th>"+ba("week-5")+"</th><th>"+ba("week-6")+"</th>"}function U(a){return a=b(a),!(!c.startDate||!a.endOf("month").isBefore(c.startDate))||!(!c.endDate||!a.startOf("month").isAfter(c.endDate))}function V(){for(var a=['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'],b=0;b<20;b++)a.push('<div class="gap-line"><div class="gap-1"></div><div class="gap-2"></div><div class="gap-3"></div></div>');return a.push("</div>"),a.join("")}function W(){return!c.singleMonth}function X(a,b,c){var d=jQuery.extend(!0,{},a);jQuery.each(b,function(a,b){var e=b(c);for(var f in e)d.hasOwnProperty(f)?d[f]+=e[f]:d[f]=e[f]});var e="";for(var f in d)d.hasOwnProperty(f)&&(e+=f+'="'+d[f]+'" ');return e}function Y(a){return Math.floor(Z(a)/864e5)}function Z(a){return b.isMoment(a)&&(a=a.toDate().getTime()),"object"==typeof a&&a.getTime&&(a=a.getTime()),"string"!=typeof a||a.match(/\d{13}/)||(a=b(a,c.format).toDate().getTime()),a=parseInt(a,10)-60*(new Date).getTimezoneOffset()*1e3}function $(a){var d=[];a.setDate(1);var e=(new Date(a.getTime()-864e5),new Date),f=a.getDay();if(0===f&&"monday"===c.startOfWeek&&(f=7),f>0)for(var g=f;g>0;g--){var h=new Date(a.getTime()-864e5*g),i=u(h.getTime());c.startDate&&N(h,c.startDate)<0&&(i=!1),c.endDate&&N(h,c.endDate)>0&&(i=!1),d.push({date:h,type:"lastMonth",day:h.getDate(),time:h.getTime(),valid:i})}for(var j=a.getMonth(),g=0;g<40;g++){var k=b(a).add(g,"days").toDate(),i=u(k.getTime());c.startDate&&N(k,c.startDate)<0&&(i=!1),c.endDate&&N(k,c.endDate)>0&&(i=!1),d.push({date:k,type:k.getMonth()==j?"toMonth":"nextMonth",day:k.getDate(),time:k.getTime(),valid:i})}for(var l=[],m=0;m<6&&"nextMonth"!=d[7*m].type;m++){l.push("<tr>");for(var h=0;h<7;h++){var n="monday"==c.startOfWeek?h+1:h,k=d[7*m+n],o=b(k.time).format("L")==b(e).format("L");if(k.extraClass="",k.tooltip="",k.valid&&c.beforeShowDay&&"function"==typeof c.beforeShowDay){var p=c.beforeShowDay(b(k.time).toDate());k.valid=p[0],k.extraClass=p[1]||"",k.tooltip=p[2]||"",""!==k.tooltip&&(k.extraClass+=" has-tooltip ")}var q={time:k.time,"data-tooltip":k.tooltip,class:"day "+k.type+" "+k.extraClass+" "+(k.valid?"valid":"invalid")+" "+(o?"real-today":"")};0===h&&c.showWeekNumbers&&l.push('<td><div class="week-number" data-start-time="'+k.time+'">'+c.getWeekNumber(k.date)+"</div></td>"),l.push("<td "+X({},c.dayTdAttrs,k)+"><div "+X(q,c.dayDivAttrs,k)+">"+_(k.time,k.day)+"</div></td>")}l.push("</tr>")}return l.join("")}function _(a,b){return c.showDateFilter&&"function"==typeof c.showDateFilter?c.showDateFilter(a,b):b}function aa(){if("auto"==c.language){var b=navigator.language?navigator.language:navigator.browserLanguage;if(!b)return a.dateRangePickerLanguages.default;b=b.toLowerCase();for(var d in a.dateRangePickerLanguages)if(b.indexOf(d)!==-1)return a.dateRangePickerLanguages[d];return a.dateRangePickerLanguages.default}return c.language&&c.language in a.dateRangePickerLanguages?a.dateRangePickerLanguages[c.language]:a.dateRangePickerLanguages.default}function ba(b){var c=b.toLowerCase(),d=b in ga?ga[b]:c in ga?ga[c]:null,e=a.dateRangePickerLanguages.default;return null==d&&(d=b in e?e[b]:c in e?e[c]:""),d}function ca(){var a=c.defaultTime?c.defaultTime:new Date;return c.lookBehind?(c.startDate&&M(a,c.startDate)<0&&(a=O(b(c.startDate).toDate())),c.endDate&&M(a,c.endDate)>0&&(a=b(c.endDate).toDate())):(c.startDate&&M(a,c.startDate)<0&&(a=b(c.startDate).toDate()),c.endDate&&M(O(a),c.endDate)>0&&(a=P(b(c.endDate).toDate()))),c.singleDate&&(c.startDate&&M(a,c.startDate)<0&&(a=b(c.startDate).toDate()),c.endDate&&M(a,c.endDate)>0&&(a=b(c.endDate).toDate())),a}function da(a){a||(a=ca()),c.lookBehind?(F(P(a),"month1"),F(a,"month2")):(F(a,"month1"),F(O(a),"month2")),c.singleDate&&F(a,"month1"),E(),J()}c||(c={}),c=a.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" to ",language:"auto",startOfWeek:"sunday",getValue:function(){return a(this).val()},setValue:function(b){a(this).attr("readonly")||a(this).is(":disabled")||b==a(this).val()||a(this).val(b)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,showShortcuts:!1,shortcuts:{},customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(a,b,c){return a>1?a+" "+ba("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(a){return b(a).format("w")},customOpenAnimation:null,customCloseAnimation:null},c),c.start=!1,c.end=!1,c.startWeek=!1,c.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints,c.isTouchDevice&&(c.hoveringTooltip=!1),"auto"==c.singleMonth&&(c.singleMonth=a(window).width()<480),c.singleMonth&&(c.stickyMonths=!1),c.showTopbar||(c.autoClose=!0),c.startDate&&"string"==typeof c.startDate&&(c.startDate=b(c.startDate,c.format).toDate()),c.endDate&&"string"==typeof c.endDate&&(c.endDate=b(c.endDate,c.format).toDate());var ea,fa,ga=aa(),ha=!1,ia=this,ja=a(ia).get(0);return a(this).unbind(".datepicker").bind("click.datepicker",function(a){var b=ea.is(":visible");b||h(c.duration)}).bind("change.datepicker",function(a){i()}).bind("keyup.datepicker",function(){try{clearTimeout(fa)}catch(a){}fa=setTimeout(function(){i()},2e3)}),e.call(this),c.alwaysOpen&&h(0),a(this).data("dateRangePicker",{setDateRange:function(a,d,e){"string"==typeof a&&"string"==typeof d&&(a=b(a,c.format).toDate(),d=b(d,c.format).toDate()),C(a,d,e)},clear:p,close:K,open:h,redraw:L,getDatePicker:g,resetMonthsView:da,destroy:function(){a(ia).unbind(".datepicker"),a(ia).data("dateRangePicker",""),a(ia).data("date-picker-opened",null),ea.remove(),a(window).unbind("resize.datepicker",f),a(document).unbind("click.datepicker",K)}}),a(window).bind("resize.datepicker",f),this}});